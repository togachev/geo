(()=>{"use strict";var e,t={4834:(e,t,n)=>{n(9789);var o,r=n(2971),i=n(5487),l=n(9515),a=n(5818),s=(o=function(e,t){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},o(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});const c=function(e){function t(t){var n=e.call(this)||this;if(n.on,n.once,n.un,n.id_=void 0,n.geometryName_="geometry",n.style_=null,n.styleFunction_=void 0,n.geometryChangeKey_=null,n.addChangeListener(n.geometryName_,n.handleGeometryChanged_),t)if("function"==typeof t.getSimplifiedGeometry){var o=t;n.setGeometry(o)}else{var r=t;n.setProperties(r)}return n}return s(t,e),t.prototype.clone=function(){var e=new t(this.hasProperties()?this.getProperties():null);e.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&e.setGeometry(n.clone());var o=this.getStyle();return o&&e.setStyle(o),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,a.bN)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=(0,a.oL)(e,i.Z.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?function(e){if("function"==typeof e)return e;var t;Array.isArray(e)?t=e:((0,l.h)("function"==typeof e.getZIndex,41),t=[e]);return function(){return t}}(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){this.removeChangeListener(this.geometryName_,this.handleGeometryChanged_),this.geometryName_=e,this.addChangeListener(this.geometryName_,this.handleGeometryChanged_),this.handleGeometryChanged_()},t}(r.Z);var p=n(309),d=n(8661),u=n(4333),y=n(7205),m=n(8734),g=n(2856),h=n(217),f=n(686),v=n(6841),b=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function o(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();const _=function(e){function t(t){var n,o=t||{},r=void 0===o.imageSmoothing||o.imageSmoothing;void 0!==o.interpolate&&(r=o.interpolate),n=void 0!==o.attributions?o.attributions:['&#169; <a href="https://www.openstreetmap.org/copyright" target="_blank">OpenStreetMap</a> contributors.'];var i=void 0!==o.crossOrigin?o.crossOrigin:"anonymous",l=void 0!==o.url?o.url:"https://{a-c}.tile.openstreetmap.org/{z}/{x}/{y}.png";return e.call(this,{attributions:n,attributionsCollapsible:!1,cacheSize:o.cacheSize,crossOrigin:i,interpolate:r,maxZoom:void 0!==o.maxZoom?o.maxZoom:19,opaque:void 0===o.opaque||o.opaque,reprojectionErrorThreshold:o.reprojectionErrorThreshold,tileLoadFunction:o.tileLoadFunction,transition:o.transition,url:l,wrapX:o.wrapX,zDirection:o.zDirection})||this}return b(t,e),t}(v.Z);var w=n(9090),x=n(7539),Z=n(8958),E=n(1345),O=n(3492),C=n(1280),k=n(6121),P=n(1882),S=n(2017),L=n(2657),T=n(8775),G=n(559),I=n(7494);document.getElementById("selection_object"),document.getElementById("selection_object_id");const N=document.getElementById("geo-popup");N.style.display="block"==N.style.display?"none":"block";const H=document.getElementById("geo-popup-content"),j=document.getElementById("geo-popup-coords_data"),B=document.getElementById("geo-popup-closer"),M=(document.getElementById("geo-name-popup"),document.getElementById("geo-popup-name-popup")),z=document.getElementById("geo-obj-list"),F=document.getElementById("geo-select-list"),A=document.getElementById("geo-layer-panel"),W=(document.getElementById("geo-layer-name-panel"),document.getElementById("geo-layer")),K=document.getElementById("geo-layer-closer");let q={};var D=document.createElement("button");D.className="button",D.innerHTML=close_button,B.appendChild(D);const J=new P.Z({element:N,autoPan:!0,autoPanAnimation:{duration:250,stopEvent:!1}}),X=e=>{const t=e.getProperties();var n=["les","uch_les","uroch","kvartal","vydel","term_p_num"],o="";for(let e in n)"string"==typeof t[n[e]]?t[n[e]].length>0&&(o+=`${t[n[e]]}\n`):"number"==typeof t[n[e]]&&(o+=`${t[n[e]]}\n`);return[new x.ZP({stroke:new Z.Z({color:"rgba(255, 0, 0, 1)",width:.5}),fill:new E.Z({color:"rgba(255, 255, 255, 0)"})}),new x.ZP({image:new O.Z({radius:5,fill:new E.Z({color:"black"}),stroke:new Z.Z({color:"rgba(0,134,255,0.9)",width:1})})}),new x.ZP({text:new C.Z({text:o,font:"12px Calibri,sans-serif",overflow:!0,fill:new E.Z({color:"#000"}),stroke:new Z.Z({color:"#fff",width:2})})})]},$=new x.ZP({stroke:new Z.Z({color:"rgba(255,255,0,1)",width:1.5}),image:new O.Z({radius:7,fill:new E.Z({color:"rgb(255,255,0)"}),stroke:new Z.Z({color:"rgba(255,255,0,1)",width:2})})});var R=[];for(let e in layer_id)R.push(new u.Z({declutter:!0,minZoom:minzoom[e],maxZoom:maxzoom[e],renderBuffer:200,renderOrder:null,renderMode:"vector",preload:0,useInterimTilesOnError:!1,updateWhileAnimating:!0,source:new y.Z({format:new p.Z({featureClass:c}),url:"/geo/layer/"+layer_id[e]+"/tile/{z}/{x}/{y}"}),style:X}));const V=new g.Z({source:new _}),Q=new L.Z({collapsible:!1});var U='<table class="popup-text-all">';for(let e in layer_id)U+='<tr><td><td class="popup-text">'+layer_name[e]+"</td></tr>";U+="</table>";var Y=new d.Z({interactions:(0,h.ce)({mouseWheelZoom:!1}).extend([new f.Z({constrainResolution:!0})]),controls:(0,S.ce)({attribution:!1}).extend([new function(){const e=document.createElement("button");e.innerHTML=layer_fill;const t=document.createElement("div");t.className="ol-layer-data ol-unselectable ol-control",t.appendChild(e),t.appendChild(A);const n=new T.Z({element:t}),o=document.createElement("button");return o.className="button",o.innerHTML=close_button,K.appendChild(o),W.innerHTML=U,e.addEventListener("click",(e=>{N.style.display="none"==N.style.display?"block":"none",console.log(A.scrollHeight),A.style.display="block"==A.style.display?"none":"block",A.style.maxHeight=A.scrollHeight+"px",q={},ie.changed()})),K.addEventListener("click",(e=>{A.style.display="none"})),n},Q]),renderer:"webgl",layers:[V,new m.Z({layers:R})],overlays:[J],moveTolerance:10,target:"map",loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,view:new w.ZP({center:(0,k.mi)([70.538086,62.201629]),maxZoom:18,zoom:6,multiWorld:!0})});function ee(){const e=Y.getSize()[0]<600;Q.setCollapsible(e),Q.setCollapsed(e)}window.addEventListener("resize",ee),ee();var te=Y.getView().calculateExtent(Y.getSize());const ne=document.createElement("span");ne.innerHTML=house_fill;const oe=new G.Z({extent:te,label:ne}),re=new I.Z({units:"metric",steps:2,dpi:96});Y.addControl(oe),Y.addControl(re);const ie=new u.Z({map:Y,declutter:!0,renderOrder:null,renderBuffer:200,renderMode:"vector",preload:0,useInterimTilesOnError:!1,updateWhileAnimating:!0});var le=function(e){var t=Y.getFeaturesAtPixel(e.pixel,(function(e){}),{hitTolerance:10}),n=t[0];!function(){N.style.display="block";const o=(0,k.vs)(e.coordinate,"EPSG:3857","EPSG:4326"),r='<td class="popup-text">'+o[0].toFixed(6)+", "+o[1].toFixed(6)+"</td></tr>";if(!t.length)return M.innerHTML="Координаты",z.style.display="none",H.style.display="none",j.innerHTML=r,A.style.display="none",q={},void ie.changed();if(t.length>0){z.style.display="block",F.options.length=0,function(){for(let e of t)F.options.add(new Option(e.getProperties().layer,JSON.stringify(e)))}(),H.style.display="block";const e=n.getProperties();var i='<table class="popup-text-all">';const{layer:o,...l}=e,a=Object.assign({},{...l});for(let t in a)"string"==typeof e[t]?e[t].length>0&&(i+="<tr><td>"+t+'</td><td class="popup-text">'+e[t]+"</td></tr>"):"number"==typeof e[t]&&(i+="<tr><td>"+t+'</td><td class="popup-text">'+e[t]+"</td></tr>");i+="</table>",M.innerHTML=e.layer,H.innerHTML=i,j.innerHTML=r,function(){for(let t in layer_id)if(n.getProperties().layer==layer_name[t]){var e=t;const o=n.get("id");q={},q[o]=n,ie.setSource(R[e].getSource()),ie.setStyle((function(e){if(e.get("id")in q)return $})),ie.changed()}}()}}(),document.getElementById("geo-select-list").addEventListener("change",(function(){const t=JSON.parse(this.value);for(let i in layer_id)if(t.values_.layer==layer_name[i]){var o=i;const l=t.values_.id;console.log(l,this.text),q={},q[l]=n,ie.setSource(R[o].getSource()),ie.setStyle((function(e){if(e.get("id")in q)return $})),ie.changed(),N.style.display="block";const a=(0,k.vs)(e.coordinate,"EPSG:3857","EPSG:4326"),s='<td class="popup-text">'+a[0].toFixed(6)+", "+a[1].toFixed(6)+"</td></tr>";j.innerHTML=s,z.style.display="block",H.style.display="block";const c=t.values_;var r='<table class="popup-text-all">';const{layer:p,...d}=c,u=Object.assign({},{...d});for(let e in u)"string"==typeof c[e]?c[e].length>0&&(r+="<tr><td>"+e+'</td><td class="popup-text">'+c[e]+"</td></tr>"):"number"==typeof c[e]&&(r+="<tr><td>"+e+'</td><td class="popup-text">'+c[e]+"</td></tr>");r+="</table>",M.innerHTML=c.layer,H.innerHTML=r,j.innerHTML=s}}))};Y.on(["singleclick"],(function(e){if("pointermove"===e.type)return;le(e);J.setPosition([""[0],(""[3]-""[1])/2]),B.onclick=function(){return J.setPosition(void 0),q={},ie.changed(),B.blur(),!1}}))}},n={};function o(e){var r=n[e];if(void 0!==r)return r.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,o),i.exports}o.m=t,e=[],o.O=(t,n,r,i)=>{if(!n){var l=1/0;for(p=0;p<e.length;p++){for(var[n,r,i]=e[p],a=!0,s=0;s<n.length;s++)(!1&i||l>=i)&&Object.keys(o.O).every((e=>o.O[e](n[s])))?n.splice(s--,1):(a=!1,i<l&&(l=i));if(a){e.splice(p--,1);var c=r();void 0!==c&&(t=c)}}return t}i=i||0;for(var p=e.length;p>0&&e[p-1][2]>i;p--)e[p]=e[p-1];e[p]=[n,r,i]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={882:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var r,i,[l,a,s]=n,c=0;if(l.some((t=>0!==e[t]))){for(r in a)o.o(a,r)&&(o.m[r]=a[r]);if(s)var p=s(o)}for(t&&t(n);c<l.length;c++)i=l[c],o.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return o.O(p)},n=self.webpackChunkwebpack_multiple_html=self.webpackChunkwebpack_multiple_html||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var r=o.O(void 0,[299,978],(()=>o(4834)));r=o.O(r)})();